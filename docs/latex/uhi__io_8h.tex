\doxysection{include/files/uhi\+\_\+io.h File Reference}
\hypertarget{uhi__io_8h}{}\label{uhi__io_8h}\index{include/files/uhi\_io.h@{include/files/uhi\_io.h}}


Uncompressed Hyperspectral Image file IO for storing pixel values as 16-\/bit values.  


{\ttfamily \#include $<$inttypes.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include "{}files/logs.\+h"{}}\newline
{\ttfamily \#include "{}math/math\+\_\+functions.\+h"{}}\newline
Include dependency graph for uhi\+\_\+io.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{uhi__io_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{uhi__io_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_uncompressed_hyperspectral_image}{Uncompressed\+Hyperspectral\+Image}}
\begin{DoxyCompactList}\small\item\em Stores Hyperspectral Images in 16-\/bit chunks. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{uhi__io_8h_a6aba86f49a9e77ca452352dd1ef8d4af}{UHI\+\_\+\+CACHE\+\_\+\+LENGTH}}~3
\begin{DoxyCompactList}\small\item\em Image Size Buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{struct_uncompressed_hyperspectral_image}{Uncompressed\+Hyperspectral\+Image}} \mbox{\hyperlink{uhi__io_8h_aabf4f060c3ec7817f143c3cbf63ba0c0}{F\+\_\+\+UHI}}
\begin{DoxyCompactList}\small\item\em Stores Hyperspectral Images in 16-\/bit chunks. \end{DoxyCompactList}\item 
\Hypertarget{uhi__io_8h_ac3e22f6af3f1d9eb75f08f122711569b}\label{uhi__io_8h_ac3e22f6af3f1d9eb75f08f122711569b} 
typedef struct \mbox{\hyperlink{struct_uncompressed_hyperspectral_image}{Uncompressed\+Hyperspectral\+Image}} {\bfseries UHI}
\item 
\Hypertarget{uhi__io_8h_a73f9b90ad8f0d9cbe39332bdca2c1aa7}\label{uhi__io_8h_a73f9b90ad8f0d9cbe39332bdca2c1aa7} 
typedef struct \mbox{\hyperlink{struct_uncompressed_hyperspectral_image}{Uncompressed\+Hyperspectral\+Image}} {\bfseries u\+IMG}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{typedefs_8h_a9686e3aa2c29c9c208c0cf15d69516e5}{error\+\_\+t}} \mbox{\hyperlink{uhi__io_8h_a75bd0b5f041d0076b18d196adf4c4e39}{UHI\+\_\+\+Initialize}} (\mbox{\hyperlink{struct_uncompressed_hyperspectral_image}{UHI}} \texorpdfstring{$\ast$}{*}stream, \mbox{\hyperlink{structdim3}{dim3}} size, const char \texorpdfstring{$\ast$}{*}file\+\_\+name, \mbox{\hyperlink{file___i_o_8h_abf7662b304505130b2e87a944038aff0}{File\+Mode}} \mbox{\hyperlink{file___i_o_8h_a588666511dde277029c4c5afc30782a6}{file\+\_\+mode}})
\begin{DoxyCompactList}\small\item\em Initializes a UHI stream for storing/retrieving image pixels. \end{DoxyCompactList}\item 
\mbox{\hyperlink{typedefs_8h_a9686e3aa2c29c9c208c0cf15d69516e5}{error\+\_\+t}} \mbox{\hyperlink{uhi__io_8h_a9c23d248f87897f71d177a12cdfebf84}{UHI\+\_\+\+Write\+Pixel}} (const \mbox{\hyperlink{struct_uncompressed_hyperspectral_image}{UHI}} \texorpdfstring{$\ast$}{*}stream, \mbox{\hyperlink{structdim3}{dim3}} index, \mbox{\hyperlink{typedefs_8h_ab11dabd4d79e8b3426010beb5831e1d9}{PIXEL}} value)
\begin{DoxyCompactList}\small\item\em Writes a PIXEL value into an index on a UHI image. \end{DoxyCompactList}\item 
\mbox{\hyperlink{typedefs_8h_ab11dabd4d79e8b3426010beb5831e1d9}{PIXEL}} \mbox{\hyperlink{uhi__io_8h_ad7fd2d84633ee6e0355a950deeacd220}{UHI\+\_\+\+Read\+Pixel}} (\mbox{\hyperlink{struct_uncompressed_hyperspectral_image}{UHI}} \texorpdfstring{$\ast$}{*}stream, \mbox{\hyperlink{structdim3}{dim3}} index)
\begin{DoxyCompactList}\small\item\em Reads a PIXEL value from an index in an UHI image. \end{DoxyCompactList}\item 
\mbox{\hyperlink{typedefs_8h_ab11dabd4d79e8b3426010beb5831e1d9}{PIXEL}} \mbox{\hyperlink{uhi__io_8h_aad573fb88befb1cd5c553c20a32027a9}{Proxy\+\_\+\+Get\+Pixel}} (\mbox{\hyperlink{struct_uncompressed_hyperspectral_image}{u\+IMG}} \texorpdfstring{$\ast$}{*}h\+IMG, \mbox{\hyperlink{typedefs_8h_a762a038a8611999e554c912cf3c72cea}{INDEX}} x, \mbox{\hyperlink{typedefs_8h_a762a038a8611999e554c912cf3c72cea}{INDEX}} y, \mbox{\hyperlink{typedefs_8h_a762a038a8611999e554c912cf3c72cea}{INDEX}} z)
\begin{DoxyCompactList}\small\item\em Proxy function behaves the same way as image Get\+Pixel. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{uhi__io_8h_a1ec6bacb78062b9b8dde4cf3e3eeb923}{Proxy\+\_\+\+Set\+Pixel}} (\mbox{\hyperlink{struct_uncompressed_hyperspectral_image}{u\+IMG}} \texorpdfstring{$\ast$}{*}h\+IMG, \mbox{\hyperlink{typedefs_8h_a762a038a8611999e554c912cf3c72cea}{INDEX}} x, \mbox{\hyperlink{typedefs_8h_a762a038a8611999e554c912cf3c72cea}{INDEX}} y, \mbox{\hyperlink{typedefs_8h_a762a038a8611999e554c912cf3c72cea}{INDEX}} z, \mbox{\hyperlink{typedefs_8h_ab11dabd4d79e8b3426010beb5831e1d9}{PIXEL}} value)
\begin{DoxyCompactList}\small\item\em Proxy function behaves the same way as image Set\+Pixel. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Uncompressed Hyperspectral Image file IO for storing pixel values as 16-\/bit values. 

\begin{DoxyAuthor}{Authors}
Kevin Caldwell @lalalalinn
\end{DoxyAuthor}
Functions for Uncompressed Hyperspectral Image files. The file consists of 14-\/bit pixel data stored as 16-\/bit data, prioritizing fast read and write capabilities.

The First 3 16-\/bit values store the dimensions of the image, with the format\+: (k\+Nx, k\+Ny, k\+Nz) 

\doxysubsection{Macro Definition Documentation}
\Hypertarget{uhi__io_8h_a6aba86f49a9e77ca452352dd1ef8d4af}\label{uhi__io_8h_a6aba86f49a9e77ca452352dd1ef8d4af} 
\index{uhi\_io.h@{uhi\_io.h}!UHI\_CACHE\_LENGTH@{UHI\_CACHE\_LENGTH}}
\index{UHI\_CACHE\_LENGTH@{UHI\_CACHE\_LENGTH}!uhi\_io.h@{uhi\_io.h}}
\doxysubsubsection{\texorpdfstring{UHI\_CACHE\_LENGTH}{UHI\_CACHE\_LENGTH}}
{\footnotesize\ttfamily \#define UHI\+\_\+\+CACHE\+\_\+\+LENGTH~3}



Image Size Buffer. 

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000002}{Deprecated}}]Pixel Caches not stored in UHI anymore. See \doxylink{locale__buffer_8h}{locale\+\_\+buffer.\+h} instead. \end{DoxyRefDesc}


\doxysubsection{Typedef Documentation}
\Hypertarget{uhi__io_8h_aabf4f060c3ec7817f143c3cbf63ba0c0}\label{uhi__io_8h_aabf4f060c3ec7817f143c3cbf63ba0c0} 
\index{uhi\_io.h@{uhi\_io.h}!F\_UHI@{F\_UHI}}
\index{F\_UHI@{F\_UHI}!uhi\_io.h@{uhi\_io.h}}
\doxysubsubsection{\texorpdfstring{F\_UHI}{F\_UHI}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_uncompressed_hyperspectral_image}{Uncompressed\+Hyperspectral\+Image}} \mbox{\hyperlink{uhi__io_8h_aabf4f060c3ec7817f143c3cbf63ba0c0}{F\+\_\+\+UHI}}}



Stores Hyperspectral Images in 16-\/bit chunks. 

Stores UHI file streams.

File format designed to store 16 bit pixel data for Hyperspectral Images. The first 3 data values represent the size of the hyperspectral image, and are followed by the pixel values.

Designed to be a more RAM-\/friendly alternative to the image struct defined in \doxylink{image_8h}{image.\+h}. The data is accessed from the filesystem instead of RAM, which increases latency and runtime, but reduces the RAM footprint of the overall program.

fs\+: file\+\_\+t object for handling file IO size\+: stores the dimensions of the Hyperspectral image cache\+: Unused 32 bit static array 

\doxysubsection{Function Documentation}
\Hypertarget{uhi__io_8h_aad573fb88befb1cd5c553c20a32027a9}\label{uhi__io_8h_aad573fb88befb1cd5c553c20a32027a9} 
\index{uhi\_io.h@{uhi\_io.h}!Proxy\_GetPixel@{Proxy\_GetPixel}}
\index{Proxy\_GetPixel@{Proxy\_GetPixel}!uhi\_io.h@{uhi\_io.h}}
\doxysubsubsection{\texorpdfstring{Proxy\_GetPixel()}{Proxy\_GetPixel()}}
{\footnotesize\ttfamily \mbox{\hyperlink{typedefs_8h_ab11dabd4d79e8b3426010beb5831e1d9}{PIXEL}} Proxy\+\_\+\+Get\+Pixel (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_uncompressed_hyperspectral_image}{u\+IMG}} \texorpdfstring{$\ast$}{*}}]{h\+IMG,  }\item[{\mbox{\hyperlink{typedefs_8h_a762a038a8611999e554c912cf3c72cea}{INDEX}}}]{x,  }\item[{\mbox{\hyperlink{typedefs_8h_a762a038a8611999e554c912cf3c72cea}{INDEX}}}]{y,  }\item[{\mbox{\hyperlink{typedefs_8h_a762a038a8611999e554c912cf3c72cea}{INDEX}}}]{z }\end{DoxyParamCaption})}



Proxy function behaves the same way as image Get\+Pixel. 

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000003}{Deprecated}}]Use UHI\+\_\+\+Read\+Pixel instead. \end{DoxyRefDesc}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{uhi__io_8h_aad573fb88befb1cd5c553c20a32027a9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=170pt]{uhi__io_8h_aad573fb88befb1cd5c553c20a32027a9_icgraph}
\end{center}
\end{figure}
\Hypertarget{uhi__io_8h_a1ec6bacb78062b9b8dde4cf3e3eeb923}\label{uhi__io_8h_a1ec6bacb78062b9b8dde4cf3e3eeb923} 
\index{uhi\_io.h@{uhi\_io.h}!Proxy\_SetPixel@{Proxy\_SetPixel}}
\index{Proxy\_SetPixel@{Proxy\_SetPixel}!uhi\_io.h@{uhi\_io.h}}
\doxysubsubsection{\texorpdfstring{Proxy\_SetPixel()}{Proxy\_SetPixel()}}
{\footnotesize\ttfamily void Proxy\+\_\+\+Set\+Pixel (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_uncompressed_hyperspectral_image}{u\+IMG}} \texorpdfstring{$\ast$}{*}}]{h\+IMG,  }\item[{\mbox{\hyperlink{typedefs_8h_a762a038a8611999e554c912cf3c72cea}{INDEX}}}]{x,  }\item[{\mbox{\hyperlink{typedefs_8h_a762a038a8611999e554c912cf3c72cea}{INDEX}}}]{y,  }\item[{\mbox{\hyperlink{typedefs_8h_a762a038a8611999e554c912cf3c72cea}{INDEX}}}]{z,  }\item[{\mbox{\hyperlink{typedefs_8h_ab11dabd4d79e8b3426010beb5831e1d9}{PIXEL}}}]{value }\end{DoxyParamCaption})}



Proxy function behaves the same way as image Set\+Pixel. 

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000004}{Deprecated}}]Use UHI\+\_\+\+Write\+Pixel instead. \end{DoxyRefDesc}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{uhi__io_8h_a1ec6bacb78062b9b8dde4cf3e3eeb923_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=169pt]{uhi__io_8h_a1ec6bacb78062b9b8dde4cf3e3eeb923_icgraph}
\end{center}
\end{figure}
\Hypertarget{uhi__io_8h_a75bd0b5f041d0076b18d196adf4c4e39}\label{uhi__io_8h_a75bd0b5f041d0076b18d196adf4c4e39} 
\index{uhi\_io.h@{uhi\_io.h}!UHI\_Initialize@{UHI\_Initialize}}
\index{UHI\_Initialize@{UHI\_Initialize}!uhi\_io.h@{uhi\_io.h}}
\doxysubsubsection{\texorpdfstring{UHI\_Initialize()}{UHI\_Initialize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{typedefs_8h_a9686e3aa2c29c9c208c0cf15d69516e5}{error\+\_\+t}} UHI\+\_\+\+Initialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_uncompressed_hyperspectral_image}{UHI}} \texorpdfstring{$\ast$}{*}}]{stream,  }\item[{\mbox{\hyperlink{structdim3}{dim3}}}]{size,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{file\+\_\+name,  }\item[{\mbox{\hyperlink{file___i_o_8h_abf7662b304505130b2e87a944038aff0}{File\+Mode}}}]{file\+\_\+mode }\end{DoxyParamCaption})}



Initializes a UHI stream for storing/retrieving image pixels. 

Opens the file at \{file\+\_\+name\}. Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=257pt]{uhi__io_8h_a75bd0b5f041d0076b18d196adf4c4e39_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=162pt]{uhi__io_8h_a75bd0b5f041d0076b18d196adf4c4e39_icgraph}
\end{center}
\end{figure}
\Hypertarget{uhi__io_8h_ad7fd2d84633ee6e0355a950deeacd220}\label{uhi__io_8h_ad7fd2d84633ee6e0355a950deeacd220} 
\index{uhi\_io.h@{uhi\_io.h}!UHI\_ReadPixel@{UHI\_ReadPixel}}
\index{UHI\_ReadPixel@{UHI\_ReadPixel}!uhi\_io.h@{uhi\_io.h}}
\doxysubsubsection{\texorpdfstring{UHI\_ReadPixel()}{UHI\_ReadPixel()}}
{\footnotesize\ttfamily \mbox{\hyperlink{typedefs_8h_ab11dabd4d79e8b3426010beb5831e1d9}{PIXEL}} UHI\+\_\+\+Read\+Pixel (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_uncompressed_hyperspectral_image}{UHI}} \texorpdfstring{$\ast$}{*}}]{stream,  }\item[{\mbox{\hyperlink{structdim3}{dim3}}}]{index }\end{DoxyParamCaption})}



Reads a PIXEL value from an index in an UHI image. 

Reads a 16 bit value from 2 bytes at the respective index. The Index is specified as 
\begin{DoxyCode}{0}
\DoxyCodeLine{6\ +\ 2\ *\ (MAP3\_1(index.x,\ index.y,\ index.z))}

\end{DoxyCode}
 Seeks to the Respective Position, then reads one PIXEL at the location. 
\begin{DoxyParams}{Parameters}
{\em stream} & UHI instance for image storage \\
\hline
{\em index} & (x,y,z) for index \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000011}{Todo}}]Handle Errors (Read Error, Index\+Out\+Of\+Bounds Error) 

Make the seek calculation more flexible \end{DoxyRefDesc}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=259pt]{uhi__io_8h_ad7fd2d84633ee6e0355a950deeacd220_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=294pt]{uhi__io_8h_ad7fd2d84633ee6e0355a950deeacd220_icgraph}
\end{center}
\end{figure}
\Hypertarget{uhi__io_8h_a9c23d248f87897f71d177a12cdfebf84}\label{uhi__io_8h_a9c23d248f87897f71d177a12cdfebf84} 
\index{uhi\_io.h@{uhi\_io.h}!UHI\_WritePixel@{UHI\_WritePixel}}
\index{UHI\_WritePixel@{UHI\_WritePixel}!uhi\_io.h@{uhi\_io.h}}
\doxysubsubsection{\texorpdfstring{UHI\_WritePixel()}{UHI\_WritePixel()}}
{\footnotesize\ttfamily \mbox{\hyperlink{typedefs_8h_a9686e3aa2c29c9c208c0cf15d69516e5}{error\+\_\+t}} UHI\+\_\+\+Write\+Pixel (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_uncompressed_hyperspectral_image}{UHI}} \texorpdfstring{$\ast$}{*}}]{stream,  }\item[{\mbox{\hyperlink{structdim3}{dim3}}}]{index,  }\item[{\mbox{\hyperlink{typedefs_8h_ab11dabd4d79e8b3426010beb5831e1d9}{PIXEL}}}]{value }\end{DoxyParamCaption})}



Writes a PIXEL value into an index on a UHI image. 

Stores a 16 bit value into 2 bytes at the index specified by 
\begin{DoxyCode}{0}
\DoxyCodeLine{6\ +\ 2\ *\ (MAP3\_1(index.x,\ index.y,\ index.z))}

\end{DoxyCode}
 It Seeks to the respective position, then calls F\+\_\+\+WRITE to store the pixel.


\begin{DoxyParams}{Parameters}
{\em stream} & The UHI Stream handling the Image IO \\
\hline
{\em index} & The (x, y, z) indices of the pixel to be written to \\
\hline
{\em value} & The 16-\/bit value to be stored at the index \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
RES\+\_\+\+OK if success 
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000010}{Todo}}]Handle index outside image dimensions. \end{DoxyRefDesc}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=264pt]{uhi__io_8h_a9c23d248f87897f71d177a12cdfebf84_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=294pt]{uhi__io_8h_a9c23d248f87897f71d177a12cdfebf84_icgraph}
\end{center}
\end{figure}
